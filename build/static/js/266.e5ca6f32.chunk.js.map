{"version":3,"file":"static/js/266.e5ca6f32.chunk.js","mappings":"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","sources":["pages/AdminSignIn.jsx","redux/actions/adminActions.js","redux/api/adminAPI.js"],"sourcesContent":["import { useNavigate, Link } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport ButtonLoadingSpinner from \"../components/loader/ButtonLoadingSpinner\";\nimport { IoIosArrowRoundBack } from \"react-icons/io\";\nimport { signInAction } from \"../redux/actions/adminActions\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst AdminSignIn = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [signingIn, setSigningIn] = useState(false);\n\n  const signInError = useSelector((state) => state.admin?.signInError);\n\n  const handleUsernameChange = (e) => {\n    setUsername(e.target.value);\n  };\n\n  const handlePasswordChange = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    setSigningIn(true);\n    e.preventDefault();\n    const data = {\n      username: username,\n      password: password,\n    };\n\n    dispatch(signInAction(data)).then(() => {\n      setSigningIn(false);\n      navigate(\"/admin\");\n    });\n  };\n\n  return (\n    <div className=\"flex justify-center items-center h-screen\">\n      <div className=\"w-full max-w-sm mx-auto overflow-hidden bg-white rounded-md shadow-md\">\n        <div className=\"px-6 py-4\">\n          <div className=\"flex justify-center mx-auto\">\n          \n          </div>\n\n          <p className=\"mt-1 text-center text-gray-500\">Sign in as admin</p>\n          <form>\n            <div className=\"w-full mt-4\">\n              <input\n                onChange={handleUsernameChange}\n                className=\"block w-full px-4 py-2 mt-2 text-gray-700 placeholder-gray-500 bg-white border rounded-md  focus:border-blue-400  focus:ring-opacity-40 focus:outline-none focus:ring focus:ring-blue-300\"\n                type=\"text\"\n                placeholder=\"Username\"\n                aria-label=\"Username\"\n              />\n            </div>\n            <div className=\"w-full mt-4\">\n              <input\n                onChange={handlePasswordChange}\n                className=\"block w-full px-4 py-2 mt-2 text-gray-700 placeholder-gray-500 bg-white border rounded-md  focus:border-blue-400 focus:ring-opacity-40 focus:outline-none focus:ring focus:ring-blue-300\"\n                type=\"password\"\n                placeholder=\"Password\"\n                aria-label=\"Password\"\n              />\n            </div>\n            {signInError && (\n              <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md relative mt-4 flex items-center justify-between\">\n                <span className=\"block sm:inline\">{signInError}</span>\n              </div>\n            )}\n\n            <div className=\"flex items-center justify-between mt-4\">\n              <Link to=\"/\">\n                <IoIosArrowRoundBack className=\"inline-block w-4 h-4 mr-2\" />\n                Back to home\n              </Link>\n              <button\n                disabled={signingIn}\n                type=\"submit\"\n                onClick={(e) => handleSubmit(e)}\n                className=\"px-6 py-2 text-sm font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-blue-500 rounded-md hover:bg-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50\"\n              >\n                {signingIn ? (\n                  <ButtonLoadingSpinner loadingText={\"Signing in...\"} />\n                ) : (\n                  \"Sign in\"\n                )}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminSignIn;\n","import * as api from \"../api/adminAPI\";\nimport * as types from \"../constants/adminConstants\";\n\nexport const signInAction = (credential) => async (dispatch) => {\n  try {\n    const { error, data } = await api.signIn(credential);\n    if (error) {\n      throw new Error(error);\n    }\n    localStorage.setItem(\"admin\", JSON.stringify(data));\n    dispatch({\n      type: types.SIGN_IN_SUCCESS,\n    });\n  } catch (error) {\n    dispatch({\n      type: types.SIGN_IN_FAIL,\n      payload: error.message,\n    });\n  }\n};\n\nexport const logoutAction = () => async (dispatch) => {\n  try {\n    localStorage.removeItem(\"admin\");\n    dispatch({\n      type: types.LOGOUT_SUCCESS,\n    });\n  } catch (error) {}\n};\n\nexport const getLogsAction = () => async (dispatch) => {\n  try {\n    const { error, data } = await api.getLogs();\n    if (error) {\n      throw new Error(error);\n    }\n    dispatch({\n      type: types.GET_LOGS_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: types.GET_LOGS_FAIL,\n      payload: error.message,\n    });\n  }\n};\n\nexport const deleteLogsAction = () => async (dispatch) => {\n  try {\n    const { error } = await api.deleteLogs();\n    if (error) {\n      throw new Error(error);\n    }\n    dispatch({\n      type: types.DELETE_LOGS_SUCCESS,\n    });\n  } catch (error) {\n    dispatch({\n      type: types.DELETE_LOGS_FAIL,\n      payload: error.message,\n    });\n  }\n};\n\nexport const getServicePreferencesAction = () => async (dispatch) => {\n  try {\n    const { error, data } = await api.getServicePreferences();\n    if (error) {\n      throw new Error(error);\n    }\n    dispatch({\n      type: types.GET_SERVICE_PREFERENCES_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: types.GET_SERVICE_PREFERENCES_FAIL,\n      payload: error.message,\n    });\n  }\n};\n\nexport const updateServicePreferencesAction =\n  (preferences) => async (dispatch) => {\n    try {\n      const { error } = await api.updateServicePreferences(preferences);\n      if (error) {\n        throw new Error(error);\n      }\n      dispatch({\n        type: types.UPDATE_SERVICE_PREFERENCES_SUCCESS,\n      });\n    } catch (error) {\n      dispatch({\n        type: types.UPDATE_SERVICE_PREFERENCES_FAIL,\n        payload: error.message,\n      });\n    }\n  };\n\nexport const getCommunitiesAction = () => async (dispatch) => {\n  try {\n    const { error, data } = await api.getCommunities();\n    if (error) {\n      throw new Error(error);\n    }\n    dispatch({\n      type: types.GET_COMMUNITIES_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: types.GET_COMMUNITIES_FAIL,\n      payload: error.message,\n    });\n  }\n};\n\nexport const getCommunityAction = (communityId) => async (dispatch) => {\n  try {\n    const { error, data } = await api.getCommunity(communityId);\n    if (error) {\n      throw new Error(error);\n    }\n\n    dispatch({\n      type: types.GET_COMMUNITY_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: types.GET_COMMUNITY_FAIL,\n      payload: error.message,\n    });\n  }\n};\n\nexport const getModeratorsAction = () => async (dispatch) => {\n  try {\n    const { error, data } = await api.getModerators();\n    if (error) {\n      throw new Error(error);\n    }\n    dispatch({\n      type: types.GET_MODERATORS_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: types.GET_MODERATORS_FAIL,\n      payload: error.message,\n    });\n  }\n};\n\nexport const addModeratorAction =\n  (communityId, moderatorId) => async (dispatch) => {\n    try {\n      const { error } = await api.addModerator(communityId, moderatorId);\n      if (error) {\n        throw new Error(error);\n      }\n      dispatch({\n        type: types.ADD_MODERATOR_SUCCESS,\n      });\n    } catch (error) {\n      dispatch({\n        type: types.ADD_MODERATOR_FAIL,\n        payload: error.message,\n      });\n    }\n  };\n\nexport const removeModeratorAction =\n  (communityId, moderatorId) => async (dispatch) => {\n    try {\n      const { error } = await api.removeModerator(communityId, moderatorId);\n      if (error) {\n        throw new Error(error);\n      }\n      dispatch({\n        type: types.REMOVE_MODERATOR_SUCCESS,\n      });\n    } catch (error) {\n      dispatch({\n        type: types.REMOVE_MODERATOR_FAIL,\n        payload: error.message,\n      });\n    }\n  };\n","import { ADMIN_API, handleApiError } from \"./utils\";\n\nexport const signIn = async (credential) => {\n  try {\n    const res = await ADMIN_API.post(\"/signin\", credential);\n    return { error: null, data: res.data };\n  } catch (error) {\n    return handleApiError(error);\n  }\n};\n\nexport const getServicePreferences = async () => {\n  try {\n    const res = await ADMIN_API.get(\"/preferences\");\n    return { error: null, data: res.data };\n  } catch (error) {\n    return handleApiError(error);\n  }\n};\n\nexport const updateServicePreferences = async (preferences) => {\n  try {\n    await ADMIN_API.put(\"/preferences\", preferences);\n  } catch (error) {\n    return handleApiError(error);\n  }\n};\n\nexport const getLogs = async () => {\n  try {\n    const res = await ADMIN_API.get(\"/logs\");\n    return { error: null, data: res.data };\n  } catch (error) {\n    return handleApiError(error);\n  }\n};\n\nexport const deleteLogs = async () => {\n  try {\n    await ADMIN_API.delete(\"/logs\");\n  } catch (error) {\n    return handleApiError(error);\n  }\n};\n\nexport const getCommunities = async () => {\n  try {\n    const res = await ADMIN_API.get(\"/communities\");\n    return { error: null, data: res.data };\n  } catch (error) {\n    return handleApiError(error);\n  }\n};\n\nexport const getCommunity = async (communityId) => {\n  try {\n    const res = await ADMIN_API.get(`/community/${communityId}`);\n    return { error: null, data: res.data };\n  } catch (error) {\n    return handleApiError(error);\n  }\n};\n\nexport const getModerators = async () => {\n  try {\n    const res = await ADMIN_API.get(\"/moderators\");\n    return { error: null, data: res.data };\n  } catch (error) {\n    return handleApiError(error);\n  }\n};\n\nexport const addModerator = async (communityId, moderatorId) => {\n  try {\n    await ADMIN_API.patch(\"/add-moderators\", null, {\n      params: { communityId, moderatorId },\n    });\n  } catch (error) {\n    return handleApiError(error);\n  }\n};\n\nexport const removeModerator = async (communityId, moderatorId) => {\n  try {\n    await ADMIN_API.patch(\"/remove-moderators\", null, {\n      params: { communityId, moderatorId },\n    });\n  } catch (error) {\n    return handleApiError(error);\n  }\n};\n"],"names":["AdminSignIn","dispatch","useDispatch","navigate","useNavigate","username","setUsername","useState","password","setPassword","signingIn","setSigningIn","signInError","useSelector","state","_state$admin","admin","_jsx","className","children","_jsxs","onChange","e","target","value","type","placeholder","Link","to","IoIosArrowRoundBack","disabled","onClick","preventDefault","data","signInAction","then","handleSubmit","ButtonLoadingSpinner","loadingText","credential","async","error","ADMIN_API","post","handleApiError","api","Error","localStorage","setItem","JSON","stringify","types","payload","message","logoutAction","removeItem","getLogsAction","get","deleteLogsAction","delete","getServicePreferencesAction","updateServicePreferencesAction","preferences","put","getCommunitiesAction","getCommunityAction","communityId","concat","getModeratorsAction","addModeratorAction","moderatorId","patch","params","removeModeratorAction"],"sourceRoot":""}