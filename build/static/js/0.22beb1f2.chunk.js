"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[0],{1e3:(e,s,a)=>{a.r(s),a.d(s,{default:()=>c});var t=a(2791),l=a(7689),i=a(1243),n=a(2675),r=a(184);const c=()=>{const[e,s]=(0,t.useState)(!1),a=(0,l.s0)(),c=(0,l.TH)(),d=new URLSearchParams(c.search),o=d.get("code"),h=d.get("email"),m=c.state?c.state:h,[u,x]=(0,t.useState)(o||""),[b,g]=(0,t.useState)(""),f=(0,t.useCallback)((()=>{s(!0);const e="http://localhost:4005/auth/verify?code=".concat(u,"&email=").concat(m);i.Z.get(e).then((e=>{200===e.status&&(a("/email-verified"),x(""),g(""),s(!1))})).catch((e=>{g(e.response.data.message||"Invalid code, please try again."),s(!1)}))}),[u,m,a,s,g]);return(0,t.useEffect)((()=>{o&&h&&f()}),[o,h,f]),"Email is already verified"===b&&a("/signin"),(0,r.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,r.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,r.jsxs)("div",{className:"rounded-md bg-white p-6 shadow-md",children:[(0,r.jsx)("h2",{className:"mb-4 text-2xl font-bold",children:"Verify your email address"}),!o&&!h&&(0,r.jsxs)("p",{className:"mb-4",children:["A verification code was sent to your email address. Please either",(0,r.jsx)("span",{className:"font-bold",children:" follow "}),"the link in the email or",(0,r.jsx)("span",{className:"font-bold",children:" enter "}),"the code below."]}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)("input",{type:"text",placeholder:"Verification code",className:"w-full rounded-lg border-2 border-gray-200 p-2",value:u,onChange:e=>{x(e.target.value)}})}),b&&(0,r.jsx)("div",{className:"mb-4 text-sm text-red-500",children:b}),(0,r.jsx)("button",{disabled:e,className:"rounded-lg bg-blue-500 px-4 py-2 text-white hover:bg-blue-600",onClick:f,children:e?(0,r.jsx)(n.Z,{loadingText:"Verifying..."}):"Verify"}),(0,r.jsx)("button",{className:"ml-4 rounded-lg bg-gray-300 px-4 py-2 text-gray-800 hover:bg-gray-400",onClick:()=>{a("/signup")},children:"Cancel"})]})})})}}}]);
//# sourceMappingURL=0.22beb1f2.chunk.js.map